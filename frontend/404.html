<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Transfert - envoi de fichiers</title>
  <link rel="stylesheet" href="styles.css?v=20260204-17" />
</head>
<body>
  <main class="page">
    <header class="topbar">
      <div class="brand">
        <div class="brand-text">
          <div class="title" id="brandTitle">transfert</div>
        </div>
      </div>
      <div class="brand-right" id="brandRight">antoine damay</div>
    </header>

    <section class="card" id="mainCard">
      <div id="uploadView" class="compact">
        <div class="panel">
          <div class="panel-left">
            <div class="drop-wrapper">
              <div class="drop-tooltip">Glissez ou déposez un fichier</div>
              <div id="dropzone" class="dropzone" tabindex="0" role="button" aria-label="Déposer un fichier">
                <div class="drop-ring"></div>
                <div class="drop-core">
                  <div class="drop-icon" id="dropIcon">T</div>
                  <div class="drop-progress" id="dropProgress">0%</div>
                </div>
                <input id="fileInput" type="file" />
              </div>
            </div>

            <div class="upload" id="upload" hidden>
              <div class="upload-row">
                <div class="file-name" id="fileName">Fichier</div>
                <div class="file-size" id="fileSize">0 Mo</div>
              </div>
              <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
              </div>
              <div class="upload-status" id="uploadStatus">En attente...</div>
            </div>
          </div>

          <div class="panel-right">
            <div class="options">
              <label for="expiry">Durée de vie</label>
              <select id="expiry">
                <option value="1">1 jour</option>
                <option value="7">7 jours</option>
                <option value="30" selected>30 jours</option>
                <option value="90">90 jours</option>
              </select>
            </div>
            <div class="options">
              <label for="customSlug">Nom du lien</label>
              <input id="customSlug" type="text" placeholder="ex: monfichier" />
            </div>
            <div class="slug-help">
              Le lien sera&nbsp;: <span id="slugPreview">https://transfert.antoinedamay.fr/monfichier</span>
            </div>
            <button id="startUploadBtn" class="primary-btn" disabled>Obtenir un lien</button>

            <div class="result" id="result" hidden>
              <div class="result-title">Votre lien est prêt</div>
              <div class="result-row">
                <input id="downloadLink" type="text" readonly />
                <button id="copyBtn">Copier</button>
              </div>
              <div class="result-actions">
                <a id="openBtn" href="#" target="_blank" rel="noopener">Ouvrir le lien</a>
                <button id="newBtn" class="ghost">Envoyer un autre fichier</button>
              </div>
              <div class="note" id="expiryNote">Le lien reste valide tant que le fichier existe sur Mega.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="download" id="downloadView" hidden>
        <div class="download-stage" id="downloadStage1">
          <div class="download-bubble">
            <div class="bubble-title">Cliquez pour télécharger</div>
            <div class="bubble-name" id="downloadBubbleName">Fichier</div>
            <div class="bubble-meta" id="downloadBubbleMeta">0 Mo • 1 fichier</div>
          </div>
          <div class="download-circle dropzone" id="downloadCircleBtn" role="button" tabindex="0">
            <div class="drop-ring"></div>
            <div class="drop-core">
              <div class="drop-icon" id="downloadLogo">T</div>
            </div>
          </div>
        </div>
        <div class="download-stage download-stage-two" id="downloadStage2" hidden>
          <div class="download-layout">
            <div class="download-left">
              <div class="download-title">Votre fichier est prêt</div>
              <div class="download-name" id="downloadName">Fichier</div>
              <div class="download-size" id="downloadSize"></div>
              <div class="download-expiry" id="downloadExpiry"></div>
              <div class="download-remaining" id="downloadRemaining"></div>
              <div class="download-hint" id="downloadHint">Téléchargement en cours...</div>
              <button id="retryDownloadBtn" class="retry-btn">Relancer le téléchargement</button>
            </div>
            <div class="download-right">
              <div class="carousel" id="downloadCarousel"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="error" id="error" hidden></div>
    </section>
  </main>

  <script src="config.js?v=20260204-17"></script>
  <script src="app.js?v=20260204-17"></script>
</body>
</html>
